module.exports = {
  config: {
    name: "spam",
    aliases: ["spammer"],
    version: "1.0.0",
    author: "ğ´ğ‘ ğ‘–ğ‘“ ğ‘€ğ‘â„ğ‘šğ‘¢ğ‘‘",
    role: 2,
    category: "utility",
    shortDescription: {
      en: "ğŸ” ğ‘†ğ‘’ğ‘›ğ‘‘ ğ‘ ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’ ğ‘šğ‘¢ğ‘™ğ‘¡ğ‘–ğ‘ğ‘™ğ‘’ ğ‘¡ğ‘–ğ‘šğ‘’ğ‘ "
    },
    longDescription: {
      en: "ğ‘†ğ‘’ğ‘›ğ‘‘ ğ‘ ğ‘ ğ‘ğ‘’ğ‘ğ‘–ğ‘“ğ‘–ğ‘’ğ‘‘ ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’ ğ‘ ğ‘ğ‘’ğ‘Ÿğ‘¡ğ‘ğ‘–ğ‘› ğ‘›ğ‘¢ğ‘šğ‘ğ‘’ğ‘Ÿ ğ‘œğ‘“ ğ‘¡ğ‘–ğ‘šğ‘’ğ‘ "
    },
    guide: {
      en: "{p}spam [ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’] [ğ‘ğ‘šğ‘œğ‘¢ğ‘›ğ‘¡]"
    },
    countDown: 5
  },

  onStart: async function ({ api, event, args, message }) {
    try {
      const permission = ["61571630409265"]; // ğ‘‚ğ‘›ğ‘™ğ‘¦ ğ‘¡â„ğ‘–ğ‘  ğ‘ˆğ¼ğ· ğ‘ğ‘ğ‘› ğ‘¢ğ‘ ğ‘’ ğ‘¡â„ğ‘–ğ‘  ğ‘ğ‘œğ‘šğ‘šğ‘ğ‘›ğ‘‘
      
      if (!permission.includes(event.senderID)) {
        return message.reply("âŒ ğ‘‚ğ‘›ğ‘™ğ‘¦ ğµğ‘œğ‘¡ ğ´ğ‘‘ğ‘šğ‘–ğ‘› ğ¶ğ‘ğ‘› ğ‘ˆğ‘ ğ‘’ ğ‘¡â„ğ‘–ğ‘  ğ‘ğ‘œğ‘šğ‘šğ‘ğ‘›ğ‘‘");
      }

      if (args.length < 2) {
        return message.reply(
          `âŒ ğ¼ğ‘›ğ‘£ğ‘ğ‘™ğ‘–ğ‘‘ ğ‘›ğ‘¢ğ‘šğ‘ğ‘’ğ‘Ÿ ğ‘œğ‘“ ğ‘ğ‘Ÿğ‘”ğ‘¢ğ‘šğ‘’ğ‘›ğ‘¡ğ‘ .\nğŸ’¡ ğ‘ˆğ‘ ğ‘ğ‘”ğ‘’: ${global.config.PREFIX}spam [ğ‘šğ‘ ğ‘”] [ğ‘ğ‘šğ‘œğ‘¢ğ‘›ğ‘¡]`
        );
      }

      const msg = args.slice(0, -1).join(" "); // ğ¿ğ‘ğ‘ ğ‘¡ ğ‘ğ‘Ÿğ‘”ğ‘¢ğ‘šğ‘’ğ‘›ğ‘¡ ğ‘–ğ‘  ğ‘¡â„ğ‘’ ğ‘ğ‘œğ‘¢ğ‘›ğ‘¡, ğ‘Ÿğ‘’ğ‘ ğ‘¡ ğ‘–ğ‘  ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’
      const count = parseInt(args[args.length - 1]);

      if (isNaN(count) || count <= 0) {
        return message.reply("âŒ ğ‘ƒğ‘™ğ‘’ğ‘ğ‘ ğ‘’ ğ‘’ğ‘›ğ‘¡ğ‘’ğ‘Ÿ ğ‘ ğ‘£ğ‘ğ‘™ğ‘–ğ‘‘ ğ‘ğ‘œğ‘ ğ‘–ğ‘¡ğ‘–ğ‘£ğ‘’ ğ‘›ğ‘¢ğ‘šğ‘ğ‘’ğ‘Ÿ ğ‘“ğ‘œğ‘Ÿ ğ‘ğ‘šğ‘œğ‘¢ğ‘›ğ‘¡.");
      }

      if (count > 100) {
        return message.reply("âŒ ğ‘€ğ‘ğ‘¥ğ‘–ğ‘šğ‘¢ğ‘š ğ‘ ğ‘ğ‘ğ‘š ğ‘™ğ‘–ğ‘šğ‘–ğ‘¡ ğ‘–ğ‘  100 ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’ğ‘ .");
      }

      // ğ‘†ğ‘’ğ‘›ğ‘‘ ğ‘ğ‘œğ‘›ğ‘“ğ‘–ğ‘Ÿğ‘šğ‘ğ‘¡ğ‘–ğ‘œğ‘› ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’
      await message.reply(`ğŸ”„ ğ‘†ğ‘ğ‘ğ‘šğ‘šğ‘–ğ‘›ğ‘” "${msg}" ${count} ğ‘¡ğ‘–ğ‘šğ‘’ğ‘ ...`);

      // ğ‘†ğ‘’ğ‘›ğ‘‘ ğ‘¡â„ğ‘’ ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’ğ‘  ğ‘¤ğ‘–ğ‘¡â„ ğ‘ ğ‘ ğ‘šğ‘ğ‘™ğ‘™ ğ‘‘ğ‘’ğ‘™ğ‘ğ‘¦ ğ‘¡ğ‘œ ğ‘ğ‘£ğ‘œğ‘–ğ‘‘ ğ‘Ÿğ‘ğ‘¡ğ‘’ ğ‘™ğ‘–ğ‘šğ‘–ğ‘¡ğ‘–ğ‘›ğ‘”
      for (let i = 0; i < count; i++) {
        await new Promise(resolve => setTimeout(resolve, 500)); // 500ğ‘šğ‘  ğ‘‘ğ‘’ğ‘™ğ‘ğ‘¦ ğ‘ğ‘’ğ‘¡ğ‘¤ğ‘’ğ‘’ğ‘› ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’ğ‘ 
        api.sendMessage(msg, event.threadID);
      }

    } catch (error) {
      console.error("ğ‘†ğ‘ğ‘ğ‘š ğ‘’ğ‘Ÿğ‘Ÿğ‘œğ‘Ÿ:", error);
      message.reply("âŒ ğ´ğ‘› ğ‘’ğ‘Ÿğ‘Ÿğ‘œğ‘Ÿ ğ‘œğ‘ğ‘ğ‘¢ğ‘Ÿğ‘Ÿğ‘’ğ‘‘ ğ‘¤â„ğ‘–ğ‘™ğ‘’ ğ‘ ğ‘ğ‘ğ‘šğ‘šğ‘–ğ‘›ğ‘”. ğ‘ƒğ‘™ğ‘’ğ‘ğ‘ ğ‘’ ğ‘¡ğ‘Ÿğ‘¦ ğ‘ğ‘”ğ‘ğ‘–ğ‘›.");
    }
  }
};
